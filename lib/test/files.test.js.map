{"version":3,"sources":["../../src/test/files.test.js"],"names":["describe","context","before","ipfsClient","it","file","content","toString","to","equal","response","path","Buffer","from","eql","directory","hash","size","files","name","type","depth"],"mappings":"aAAA,0B,gLAMAA,QAAQ,CAAC,uBAAD,CAA0B,IAAM,CACtC,KAAMC,CAAAA,CAAO,CAAG,EAAhB,CACAC,MAAM,CAAC,IAAM,CACXD,CAAO,CAACE,UAAR,CAAqB,oBACtB,CAFK,CAFgC,CAKtCC,EAAE,CAAC,6BAAD,CAAgC,SAAY,CAC5C,KAAM,CAACC,CAAD,EAAS,KAAM,mBACnBJ,CAAO,CAACE,UADW,CAEnB,gDAFmB,CAArB,CAIA,iBAAOE,CAAI,CAACC,OAAL,CAAaC,QAAb,CAAsB,MAAtB,CAAP,EAAsCC,EAAtC,CAAyCC,KAAzC,CAA+C,wBAA/C,CACD,CANC,CALoC,CAYtCL,EAAE,CAAC,iEAAD,CAAoE,SAAY,CAChF,KAAMM,CAAAA,CAAQ,CAAG,KAAM,gCAAqBT,CAAO,CAACE,UAA7B,CAAyC,CAC9D,CAAEQ,IAAI,CAAE,QAAR,CAAkBL,OAAO,CAAEM,MAAM,CAACC,IAAP,CAAY,SAAZ,CAA3B,CAD8D,CAE9D,CAAEF,IAAI,CAAE,QAAR,CAAkBL,OAAO,CAAEM,MAAM,CAACC,IAAP,CAAY,SAAZ,CAA3B,CAF8D,CAG9D,CAAEF,IAAI,CAAE,QAAR,CAAkBL,OAAO,CAAEM,MAAM,CAACC,IAAP,CAAY,SAAZ,CAA3B,CAH8D,CAAzC,CAAvB,CAKA,iBAAOH,CAAP,EAAiBF,EAAjB,CAAoBM,GAApB,CAAwB,CACtBC,SAAS,CAAE,CACTJ,IAAI,CAAE,EADG,CAETK,IAAI,CAAE,gDAFG,CAGTC,IAAI,CAAE,GAHG,CADW,CAMtBC,KAAK,CAAE,CACL,CACEP,IAAI,CAAE,QADR,CAEEK,IAAI,CAAE,gDAFR,CAGEC,IAAI,CAAE,EAHR,CADK,CAML,CACEN,IAAI,CAAE,QADR,CAEEK,IAAI,CAAE,gDAFR,CAGEC,IAAI,CAAE,EAHR,CANK,CAWL,CACEN,IAAI,CAAE,QADR,CAEEK,IAAI,CAAE,gDAFR,CAGEC,IAAI,CAAE,EAHR,CAXK,CANe,CAAxB,CAwBD,CA9BC,CAZoC,CA2CtCb,EAAE,CAAC,0CAAD,CAA6C,SAAY,CACzD,KAAMM,CAAAA,CAAQ,CAAG,KAAM,gCACrBT,CAAO,CAACE,UADa,CAErB,gDAFqB,CAAvB,CAIA,iBAAOO,CAAP,EAAiBF,EAAjB,CAAoBM,GAApB,CAAwB,CACtB,CACEK,IAAI,CAAE,QADR,CAEER,IAAI,CAAE,uDAFR,CAGEM,IAAI,CAAE,CAHR,CAIED,IAAI,CAAE,gDAJR,CAKEI,IAAI,CAAE,MALR,CAMEC,KAAK,CAAE,CANT,CADsB,CAStB,CACEF,IAAI,CAAE,QADR,CAEER,IAAI,CAAE,uDAFR,CAGEM,IAAI,CAAE,CAHR,CAIED,IAAI,CAAE,gDAJR,CAKEI,IAAI,CAAE,MALR,CAMEC,KAAK,CAAE,CANT,CATsB,CAiBtB,CACEF,IAAI,CAAE,QADR,CAEER,IAAI,CAAE,uDAFR,CAGEM,IAAI,CAAE,CAHR,CAIED,IAAI,CAAE,gDAJR,CAKEI,IAAI,CAAE,MALR,CAMEC,KAAK,CAAE,CANT,CAjBsB,CAAxB,CA0BD,CA/BC,CAgCH,CA3EO,C","sourcesContent":["import { expect } from 'chai';\n\nimport './ipfs.test';\nimport createIpfsClient from '../ipfs';\nimport { saveFilesInDirectory, getFile, listFilesInDirectory } from '../files';\n\ndescribe('Describe files module', () => {\n  const context = {};\n  before(() => {\n    context.ipfsClient = createIpfsClient();\n  });\n  it('should correctly get a file', async () => {\n    const [file] = await getFile(\n      context.ipfsClient,\n      'QmZtmD2qt6fJot32nabSP3CUjicnypEBz7bHVDhPQt9aAy'\n    );\n    expect(file.content.toString('utf8')).to.equal('version 1 of my text\\n');\n  });\n  it('should correctly save array of files and wrap them in directory', async () => {\n    const response = await saveFilesInDirectory(context.ipfsClient, [\n      { path: 'file-1', content: Buffer.from('hello 1') },\n      { path: 'file-2', content: Buffer.from('hello 2') },\n      { path: 'file-3', content: Buffer.from('hello 3') },\n    ]);\n    expect(response).to.eql({\n      directory: {\n        path: '',\n        hash: 'QmSTaWhi6xW2L1mUprRvtw22UXFCPyzZx5d1cmwMBa1bu4',\n        size: 193,\n      },\n      files: [\n        {\n          path: 'file-1',\n          hash: 'QmYU2WZfhRAhz7z5xekJkAZWznK2k27uyiH7KZct6VdCbe',\n          size: 15,\n        },\n        {\n          path: 'file-2',\n          hash: 'QmYNmWVijaKZAbse8vJDrUiBk6CrksRUHepy2e14DaL4fW',\n          size: 15,\n        },\n        {\n          path: 'file-3',\n          hash: 'QmT6Y6kJSpMs8hG9tD685sFtLegkddXxydL9tzZuyV6Dc3',\n          size: 15,\n        },\n      ],\n    });\n  });\n  it('should correctly list files in directory', async () => {\n    const response = await listFilesInDirectory(\n      context.ipfsClient,\n      'QmSTaWhi6xW2L1mUprRvtw22UXFCPyzZx5d1cmwMBa1bu4'\n    );\n    expect(response).to.eql([\n      {\n        name: 'file-1',\n        path: 'QmSTaWhi6xW2L1mUprRvtw22UXFCPyzZx5d1cmwMBa1bu4/file-1',\n        size: 7,\n        hash: 'QmYU2WZfhRAhz7z5xekJkAZWznK2k27uyiH7KZct6VdCbe',\n        type: 'file',\n        depth: 1,\n      },\n      {\n        name: 'file-2',\n        path: 'QmSTaWhi6xW2L1mUprRvtw22UXFCPyzZx5d1cmwMBa1bu4/file-2',\n        size: 7,\n        hash: 'QmYNmWVijaKZAbse8vJDrUiBk6CrksRUHepy2e14DaL4fW',\n        type: 'file',\n        depth: 1,\n      },\n      {\n        name: 'file-3',\n        path: 'QmSTaWhi6xW2L1mUprRvtw22UXFCPyzZx5d1cmwMBa1bu4/file-3',\n        size: 7,\n        hash: 'QmT6Y6kJSpMs8hG9tD685sFtLegkddXxydL9tzZuyV6Dc3',\n        type: 'file',\n        depth: 1,\n      },\n    ]);\n  });\n});\n"],"file":"files.test.js"}