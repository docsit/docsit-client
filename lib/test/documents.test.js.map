{"version":3,"sources":["../../src/test/documents.test.js"],"names":["describe","context","before","web3","contract","ipfsClient","it","documentData","to","eql","id","organizationId","magic","body","data","hola","ipfsDirectoryHash","pinned","created","Date","organizationDetails","organization","documentIds","name","attachmentInformation","attachments","depth","hash","path","size","type","skip","attachedFiles"],"mappings":"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","sourcesContent":["import { expect } from 'chai';\n\nimport './web3.test';\nimport './contract.test';\nimport './ipfs.test';\nimport createWeb3Instace from '../web3';\nimport createContractInstance from '../contract';\nimport createIpfsClient from '../ipfs';\nimport { getDocument } from '../documents';\n\ndescribe('Describe document module', () => {\n  const context = {};\n  before(() => {\n    context.web3 = createWeb3Instace();\n    context.contract = createContractInstance(context.web3);\n    context.ipfsClient = createIpfsClient();\n  });\n\n  it('gets unencrypted document with no options', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'a8719f44df881b7c'\n    );\n    expect(documentData).to.eql({\n      id: 'a8719f44df881b7c',\n      organizationId: '1fd5f224b87d03f4',\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: { hola: 'jota' },\n      ipfsDirectoryHash: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU',\n      pinned: true,\n      created: new Date(1575841952000),\n    });\n  });\n\n  it('gets unencrypted document with organization details', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'a8719f44df881b7c',\n      {\n        organizationDetails: true,\n      }\n    );\n    expect(documentData).to.eql({\n      id: 'a8719f44df881b7c',\n      organizationId: '1fd5f224b87d03f4',\n      organization: {\n        created: new Date('2019-12-08T20:53:24.000Z'),\n        documentIds: [\n          '1eff3b7333183499',\n          '7f16f3668b9efa6f',\n          'a4e95e3b90d4fcec',\n          'fef18a53e7282b83',\n          'c92a0af21d8c85c4',\n          '221fb2db2b30e17b',\n          'c6bd5503e8a17cf0',\n          '221fb2db2b30e17b',\n          'a3fc220059d90999',\n          'a8719f44df881b7c',\n          '34206c975e2e09e7',\n          'c0d736e9dcca10ee',\n          '707d221731bdf977',\n          '1ecd7cabbce08050',\n          '1f0bf9f73d4267cf',\n          '180df03800d8bb0c',\n          'c9160ead4dc366a9',\n          '150e214c9b682ce6',\n          'b4d667afdd227fe5',\n          '102229f2198659b3',\n          '36b35eca24d74d01',\n          'ebde1248df2e4a0a',\n          'c7a044e63732ae72',\n          '33f04d11edd6a98f',\n          'fdba6be4dfd22a79',\n          'f63f4631526973e1',\n          '15523e2175668aa3',\n          'c2a040b6bcf5705e',\n          '45653c51de33a2ef',\n          '02c664fd182ab388',\n          '0e6a3b7ad38c3dfe',\n          'e2bb559443cd7a47',\n          '77c7da1516b12f36',\n          '4d3d570a373bf5b5',\n          '31003f53970db2b4',\n        ],\n        id: '1fd5f224b87d03f4',\n        name: 'Docsit Client Test Organization',\n      },\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: { hola: 'jota' },\n      ipfsDirectoryHash: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU',\n      pinned: true,\n      created: new Date(1575841952000),\n    });\n  });\n\n  it('gets unencrypted document with attachment information', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'a8719f44df881b7c',\n      {\n        attachmentInformation: true,\n      }\n    );\n    expect(documentData).to.eql({\n      id: 'a8719f44df881b7c',\n      organizationId: '1fd5f224b87d03f4',\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: { hola: 'jota' },\n      attachments: [\n        {\n          depth: 1,\n          hash: 'QmVYL9ceTmuZWiDJipHVktvEjx35PpUeNpQViWyfkUT2My',\n          name: 'default-skin.css',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.css',\n          size: 11607,\n          type: 'file',\n        },\n        {\n          depth: 1,\n\n          hash: 'QmekKeMRq7mwvBspZwEfTiTeVnxPRQ3WqQzcnA7MAZ3Fux',\n          name: 'default-skin.min.css',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.min.css',\n          size: 7897,\n          type: 'file',\n        },\n        {\n          depth: 1,\n          hash: 'QmTpcLZFRhXSZ4c3M4bBWWUrmRKGXv3gfF3JwZVnhx7eZm',\n          name: 'default-skin.png',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.png',\n          size: 547,\n          type: 'file',\n        },\n        {\n          depth: 1,\n          hash: 'Qmd6jmGpkirFedm5B4X7H77oguwKitAZtNtyJR2ygZcu1E',\n          name: 'default-skin.svg',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.svg',\n          size: 1554,\n          type: 'file',\n        },\n        {\n          depth: 1,\n          hash: 'QmT2sYCQp7u56Xee3oDW7Wv7ZDD1aEF6NQVqWyViJpuV3u',\n          name: 'preloader.gif',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/preloader.gif',\n          size: 866,\n          type: 'file',\n        },\n      ],\n      ipfsDirectoryHash: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU',\n      pinned: true,\n      created: new Date(1575841952000),\n    });\n  });\n\n  it.skip('gets unencrypted document with attachmented files', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'd47b0bc94ddde188',\n      {\n        attachedFiles: true,\n      }\n    );\n    expect(documentData).to.eql({\n      id: 'd47b0bc94ddde188',\n      organizationId: '584b071315f47728',\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: {},\n      ipfsDirectoryHash: 'QmSnuWmxptJZdLJpKRarxBMS2Ju2oANVrgbr2xWbie9b2D',\n      pinned: true,\n      created: new Date(1575838837000),\n    });\n  });\n\n  it.skip('gets encrypted document with no options', async () => {});\n\n  it.skip('gets encrypted document with organization details', async () => {});\n\n  it.skip('gets encrypted document with attachment information', async () => {});\n\n  it.skip('gets encrypted document with attachmented files', async () => {});\n});\n"],"file":"documents.test.js"}