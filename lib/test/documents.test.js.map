{"version":3,"sources":["../../src/test/documents.test.js"],"names":["describe","context","before","web3","contract","ipfsClient","it","documentData","to","eql","id","organizationId","magic","body","data","hola","ipfsDirectoryHash","pinned","created","Date","organizationDetails","organization","documentIds","name","attachmentInformation","attachments","depth","hash","path","size","type","skip","attachedFiles"],"mappings":"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","sourcesContent":["import { expect } from 'chai';\n\nimport './web3.test';\nimport './contract.test';\nimport './ipfs.test';\nimport createWeb3Instace from '../web3';\nimport createContractInstance from '../contract';\nimport createIpfsClient from '../ipfs';\nimport { getDocument } from '../documents';\n\ndescribe('Describe document module', () => {\n  const context = {};\n  before(() => {\n    context.web3 = createWeb3Instace();\n    context.contract = createContractInstance(context.web3);\n    context.ipfsClient = createIpfsClient();\n  });\n\n  it('gets unencrypted document with no options', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'a8719f44df881b7c'\n    );\n    expect(documentData).to.eql({\n      id: 'a8719f44df881b7c',\n      organizationId: '1fd5f224b87d03f4',\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: { hola: 'jota' },\n      ipfsDirectoryHash: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU',\n      pinned: true,\n      created: new Date(1575841952000),\n    });\n  });\n\n  it('gets unencrypted document with organization details', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'a8719f44df881b7c',\n      {\n        organizationDetails: true,\n      }\n    );\n    expect(documentData).to.eql({\n      id: 'a8719f44df881b7c',\n      organizationId: '1fd5f224b87d03f4',\n      organization: {\n        created: new Date('2019-12-08T20:53:24.000Z'),\n        documentIds: [\n          '1eff3b7333183499',\n          '7f16f3668b9efa6f',\n          'a4e95e3b90d4fcec',\n          'fef18a53e7282b83',\n          'c92a0af21d8c85c4',\n          '221fb2db2b30e17b',\n          'c6bd5503e8a17cf0',\n          '221fb2db2b30e17b',\n          'a3fc220059d90999',\n          'a8719f44df881b7c',\n          '34206c975e2e09e7',\n          'c0d736e9dcca10ee',\n          '707d221731bdf977',\n          '1ecd7cabbce08050',\n          '1f0bf9f73d4267cf',\n          '180df03800d8bb0c',\n          'c9160ead4dc366a9',\n          '150e214c9b682ce6',\n          'b4d667afdd227fe5',\n          '102229f2198659b3',\n          '36b35eca24d74d01',\n          'ebde1248df2e4a0a',\n          'c7a044e63732ae72',\n          '33f04d11edd6a98f',\n          'fdba6be4dfd22a79',\n          'f63f4631526973e1',\n          '15523e2175668aa3',\n          'c2a040b6bcf5705e',\n          '45653c51de33a2ef',\n          '02c664fd182ab388',\n          '0e6a3b7ad38c3dfe',\n          'e2bb559443cd7a47',\n          '77c7da1516b12f36',\n          '4d3d570a373bf5b5',\n          '31003f53970db2b4',\n          'd662f6c63e629459',\n        ],\n        id: '1fd5f224b87d03f4',\n        name: 'Docsit Client Test Organization',\n      },\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: { hola: 'jota' },\n      ipfsDirectoryHash: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU',\n      pinned: true,\n      created: new Date(1575841952000),\n    });\n  });\n\n  it('gets unencrypted document with attachment information', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'a8719f44df881b7c',\n      {\n        attachmentInformation: true,\n      }\n    );\n    expect(documentData).to.eql({\n      id: 'a8719f44df881b7c',\n      organizationId: '1fd5f224b87d03f4',\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: { hola: 'jota' },\n      attachments: [\n        {\n          depth: 1,\n          hash: 'QmVYL9ceTmuZWiDJipHVktvEjx35PpUeNpQViWyfkUT2My',\n          name: 'default-skin.css',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.css',\n          size: 11607,\n          type: 'file',\n        },\n        {\n          depth: 1,\n\n          hash: 'QmekKeMRq7mwvBspZwEfTiTeVnxPRQ3WqQzcnA7MAZ3Fux',\n          name: 'default-skin.min.css',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.min.css',\n          size: 7897,\n          type: 'file',\n        },\n        {\n          depth: 1,\n          hash: 'QmTpcLZFRhXSZ4c3M4bBWWUrmRKGXv3gfF3JwZVnhx7eZm',\n          name: 'default-skin.png',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.png',\n          size: 547,\n          type: 'file',\n        },\n        {\n          depth: 1,\n          hash: 'Qmd6jmGpkirFedm5B4X7H77oguwKitAZtNtyJR2ygZcu1E',\n          name: 'default-skin.svg',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/default-skin.svg',\n          size: 1554,\n          type: 'file',\n        },\n        {\n          depth: 1,\n          hash: 'QmT2sYCQp7u56Xee3oDW7Wv7ZDD1aEF6NQVqWyViJpuV3u',\n          name: 'preloader.gif',\n          path: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU/preloader.gif',\n          size: 866,\n          type: 'file',\n        },\n      ],\n      ipfsDirectoryHash: 'QmT4n2a261NS1ekg6zfxhYGuojCQCkpQGhP8LPSeJkQcXU',\n      pinned: true,\n      created: new Date(1575841952000),\n    });\n  });\n\n  it.skip('gets unencrypted document with attachmented files', async () => {\n    const documentData = await getDocument(\n      context.contract,\n      context.ipfsClient,\n      'd47b0bc94ddde188',\n      {\n        attachedFiles: true,\n      }\n    );\n    expect(documentData).to.eql({\n      id: 'd47b0bc94ddde188',\n      organizationId: '584b071315f47728',\n      magic: '00000000000000000000000000000000',\n      body: '# Title',\n      data: {},\n      ipfsDirectoryHash: 'QmSnuWmxptJZdLJpKRarxBMS2Ju2oANVrgbr2xWbie9b2D',\n      pinned: true,\n      created: new Date(1575838837000),\n    });\n  });\n\n  it.skip('gets encrypted document with no options', async () => {});\n\n  it.skip('gets encrypted document with organization details', async () => {});\n\n  it.skip('gets encrypted document with attachment information', async () => {});\n\n  it.skip('gets encrypted document with attachmented files', async () => {});\n});\n"],"file":"documents.test.js"}