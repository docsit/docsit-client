{"version":3,"sources":["../src/docsit-client.js"],"names":["DocsitClient","constructor","web3","contract","ipfsClient","accountPrivateKey","localStorage","getItem","eth","accounts","privateKeyToAccount","privateKey","create","setItem","getDocument","id","options"],"mappings":"gWAAA,6BAMA,KAAMA,CAAAA,YAAa,CACjBC,WAAW,EAAG,CAEZ,KAAKC,IAAL,CAAY,kBAFA,CAIZ,KAAKC,QAAL,CAAgB,sBAAuB,KAAKD,IAA5B,CAJJ,CAMZ,KAAKE,UAAL,CAAkB,mBANN,CAQZ,4BACA,KAAMC,CAAAA,CAAiB,CAAGC,YAAY,EAAIA,YAAY,CAACC,OAAb,CAAqB,0BAArB,CAA1C,CACA,GAAIF,CAAJ,CAEE,WADA,MAAKH,IAAL,CAAUM,GAAV,CAAcC,QAAd,CAAuBC,mBAAvB,CAA2CL,CAA3C,CACA,CAEF,KAAM,CAAEM,UAAU,CAAVA,CAAF,EAAiB,KAAKT,IAAL,CAAUM,GAAV,CAAcC,QAAd,CAAuBG,MAAvB,EAAvB,CACIN,YAfQ,EAeMA,YAAY,CAACO,OAAb,CAAqB,0BAArB,CAAiDF,CAAjD,CACnB,CAEDG,WAAW,CAACC,CAAD,CAAKC,CAAL,CAAc,CACvB,MAAO,2BAAY,KAAKb,QAAjB,CAA2B,KAAKC,UAAhC,CAA4CW,CAA5C,CAAgDC,CAAhD,CACR,CAED;AACA;AACA;AAEA;AACA;AACA;AA7BiB,C,aAgCJhB,Y","sourcesContent":["/** @module @docsit/client */\nimport createWeb3Instance from './web3';\nimport createContractInstance from './contract';\nimport createIpfsClient from './ipfs';\nimport { getDocument /* , getAttachment, issueDocument */ } from './documents';\n\nclass DocsitClient {\n  constructor() {\n    /** @private */\n    this.web3 = createWeb3Instance();\n    /** @private */\n    this.contract = createContractInstance(this.web3);\n    /** @private */\n    this.ipfsClient = createIpfsClient();\n\n    /* Setup Ethereum account */\n    const accountPrivateKey = localStorage && localStorage.getItem('docsitEthereumPrivateKey');\n    if (accountPrivateKey) {\n      this.web3.eth.accounts.privateKeyToAccount(accountPrivateKey);\n      return;\n    }\n    const { privateKey } = this.web3.eth.accounts.create();\n    if (localStorage) localStorage.setItem('docsitEthereumPrivateKey', privateKey);\n  }\n\n  getDocument(id, options) {\n    return getDocument(this.contract, this.ipfsClient, id, options);\n  }\n\n  // getAttachment(cid) {\n  //   return getAttachment(this.ipfsClient, cid);\n  // }\n\n  // issueDocument(body, data, attachments) {\n  //   return issueDocument(this.contract, this.ipfsClient, body, data, attachments);\n  // }\n}\n\nexport default DocsitClient;\n"],"file":"docsit-client.js"}